<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>旅行助手</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 自定義滾動條樣式 */
        .scrollbar-thin::-webkit-scrollbar {
            width: 3px;
        }
        .scrollbar-thin::-webkit-scrollbar-track {
            background: #EFEFF1;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: #C9CBE0;
            border-radius: 3px;
        }
        
        /* 防止文字選取 */
        * {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }
        
        /* 允許輸入框文字選取 */
        input, textarea {
            -webkit-user-select: text;
            user-select: text;
        }
        
        /* 手機樣式優化 */
        @media (max-width: 480px) {
            body {
                font-size: 14px;
            }
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <div id="app" class="min-h-screen max-w-md mx-auto bg-white">
        <!-- 頂部狀態欄模擬 (手機樣式) -->
        <div class="h-6 bg-white flex items-center justify-between px-4 text-xs text-gray-600">
            <span>12:30</span>
            <div class="flex items-center space-x-1">
                <i class="fas fa-signal"></i>
                <i class="fas fa-wifi"></i>
                <i class="fas fa-battery-three-quarters"></i>
            </div>
        </div>
        
        <!-- 頂部標題欄 -->
        <header class="p-4" :style="{backgroundColor: colors.primary}">
            <div class="flex items-center justify-between">
                <h1 class="text-xl font-bold text-gray-800">旅行助手</h1>
                <div class="text-sm text-gray-600">
                    {{ currentDate }}
                </div>
            </div>
        </header>
        
        <!-- 功能選項卡 - 更緊湊的設計 -->
        <div class="flex px-3 pt-2 pb-3 border-b border-gray-200" :style="{backgroundColor: colors.primary}">
            <button 
                v-for="tab in tabs" 
                :key="tab.id"
                @click="activeTab = tab.id"
                class="flex-1 py-2 px-1 rounded-lg text-sm font-medium transition mx-1"
                :class="activeTab === tab.id 
                    ? 'bg-white shadow-sm' 
                    : 'text-gray-600 hover:bg-white/50'"
                :style="activeTab === tab.id ? {color: colors.secondary, boxShadow: '0 2px 4px rgba(0,0,0,0.1)'} : {}"
            >
                <i :class="tab.icon" class="mr-1 text-base"></i>
                {{ tab.name }}
            </button>
        </div>

        <!-- 主內容區域 -->
        <main class="p-4 pb-20 overflow-y-auto" style="min-height: calc(100vh - 140px);">
            <!-- 行程表 -->
            <section v-if="activeTab === 'itinerary'" class="space-y-3">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-lg font-semibold text-gray-800">行程規劃</h2>
                    <button @click="addNewItinerary" class="w-10 h-10 rounded-full flex items-center justify-center shadow-sm" :style="{backgroundColor: colors.accent1}">
                        <i class="fas fa-plus text-white"></i>
                    </button>
                </div>
                
                <!-- 行程卡片 - 更緊湊設計 -->
                <div v-for="item in itinerary" :key="item.id" class="rounded-xl p-3 mb-3 shadow-sm border border-gray-100" :style="{backgroundColor: colors.card}">
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <div class="flex items-start justify-between">
                                <h3 class="font-medium text-gray-800 text-base">{{ item.title }}</h3>
                                <button @click="removeItinerary(item.id)" class="text-gray-400 hover:text-red-500 ml-2">
                                    <i class="fas fa-times text-sm"></i>
                                </button>
                            </div>
                            <p class="text-xs text-gray-500 mt-1">{{ item.time }}</p>
                            <p class="text-sm text-gray-700 mt-2">{{ item.description }}</p>
                        </div>
                    </div>
                    <div class="flex items-center mt-3 pt-2 border-t border-gray-100">
                        <span class="text-xs px-2 py-1 rounded-full mr-2" :style="{backgroundColor: colors.accent2, color: '#333'}">
                            {{ item.type }}
                        </span>
                        <span class="text-xs text-gray-600">
                            <i class="fas fa-map-marker-alt mr-1 text-xs"></i>{{ item.location }}
                        </span>
                    </div>
                </div>
                
                <div v-if="itinerary.length === 0" class="text-center py-8 text-gray-500">
                    <i class="fas fa-calendar-plus text-3xl mb-3" :style="{color: colors.accent2}"></i>
                    <p class="text-sm">還沒有行程安排，點擊 + 按鈕新增</p>
                </div>
            </section>

            <!-- 地圖 -->
            <section v-if="activeTab === 'map'" class="space-y-3">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">地圖</h2>
                
                <div class="rounded-xl overflow-hidden shadow-sm" style="height: 280px;">
                    <div id="map" class="w-full h-full bg-gray-200 flex items-center justify-center">
                        <div class="text-center p-4">
                            <i class="fas fa-map-marked-alt text-3xl mb-3" :style="{color: colors.accent2}"></i>
                            <p class="text-gray-700 text-sm">地圖功能</p>
                            <p class="text-xs text-gray-500 mt-1">可搜尋地點與規劃路線</p>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-3 mt-4">
                    <button class="p-3 rounded-lg text-center shadow-sm" :style="{backgroundColor: colors.accent1}">
                        <i class="fas fa-search text-white mb-2 text-lg"></i>
                        <p class="text-white text-xs font-medium">搜尋地點</p>
                    </button>
                    <button class="p-3 rounded-lg text-center shadow-sm" :style="{backgroundColor: colors.accent2}">
                        <i class="fas fa-directions text-white mb-2 text-lg"></i>
                        <p class="text-white text-xs font-medium">路線規劃</p>
                    </button>
                </div>
                
                <div class="rounded-xl p-3 mt-4 shadow-sm border border-gray-100" :style="{backgroundColor: colors.card}">
                    <h3 class="font-medium text-gray-800 mb-2 text-sm">最近搜尋</h3>
                    <div class="space-y-2">
                        <div class="flex items-center text-sm text-gray-700">
                            <i class="fas fa-map-pin mr-2" :style="{color: colors.secondary}"></i>
                            <span>台北101觀景台</span>
                        </div>
                        <div class="flex items-center text-sm text-gray-700">
                            <i class="fas fa-map-pin mr-2" :style="{color: colors.secondary}"></i>
                            <span>鼎泰豐信義店</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 記賬功能 -->
            <section v-if="activeTab === 'expense'" class="space-y-3">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-lg font-semibold text-gray-800">記錄</h2>
                    <button @click="showAddExpense = true" class="w-10 h-10 rounded-full flex items-center justify-center shadow-sm" :style="{backgroundColor: colors.accent1}">
                        <i class="fas fa-plus text-white"></i>
                    </button>
                </div>
                
                <!-- 支出統計 -->
                <div class="rounded-xl p-3 shadow-sm border border-gray-100" :style="{backgroundColor: colors.card}">
                    <h3 class="font-medium text-gray-800 mb-3 text-sm">支出統計</h3>
                    <div class="flex justify-between items-center mb-3">
                        <div>
                            <p class="text-xs text-gray-600">總支出</p>
                            <p class="text-lg font-bold text-gray-800">NT$ {{ totalExpenses }}</p>
                        </div>
                        <div class="text-right">
                            <p class="text-xs text-gray-600">項目數</p>
                            <p class="text-lg font-bold" :style="{color: colors.secondary}">{{ expenses.length }}</p>
                        </div>
                    </div>
                    
                    <div class="space-y-1">
                        <div v-for="category in expenseCategories" :key="category.name" class="flex items-center justify-between text-xs">
                            <div class="flex items-center">
                                <div class="w-2 h-2 rounded-full mr-2" :style="{backgroundColor: category.color}"></div>
                                <span class="text-gray-700">{{ category.name }}</span>
                            </div>
                            <span class="font-medium">NT$ {{ category.amount }}</span>
                        </div>
                    </div>
                </div>
                
                <!-- 支出記錄 -->
                <h3 class="font-medium text-gray-800 mt-4 mb-2 text-sm">近期支出</h3>
                <div v-for="item in expenses" :key="item.id" class="rounded-lg p-3 mb-2 shadow-sm border border-gray-100" :style="{backgroundColor: colors.light}">
                    <div class="flex justify-between items-center">
                        <div>
                            <h4 class="font-medium text-gray-800 text-sm">{{ item.title }}</h4>
                            <p class="text-xs text-gray-600">{{ item.date }} • {{ item.category }}</p>
                        </div>
                        <div class="text-right">
                            <p class="font-semibold text-gray-800">NT$ {{ item.amount }}</p>
                            <button @click="removeExpense(item.id)" class="text-xs text-gray-400 hover:text-red-500 mt-1">
                                <i class="fas fa-trash-alt text-xs"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div v-if="expenses.length === 0" class="text-center py-8 text-gray-500">
                    <i class="fas fa-receipt text-3xl mb-3" :style="{color: colors.accent2}"></i>
                    <p class="text-sm">還沒有支出記錄，點擊 + 按鈕新增</p>
                </div>
            </section>

            <!-- 購物清單 -->
            <section v-if="activeTab === 'shopping'" class="space-y-3">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-lg font-semibold text-gray-800">購物清單</h2>
                    <div class="flex space-x-2">
                        <button @click="showAddItem = true" class="w-10 h-10 rounded-full flex items-center justify-center shadow-sm" :style="{backgroundColor: colors.accent1}">
                            <i class="fas fa-plus text-white"></i>
                        </button>
                    </div>
                </div>
                
                <!-- 購物統計 -->
                <div class="rounded-xl p-3 shadow-sm border border-gray-100" :style="{backgroundColor: colors.card}">
                    <div class="flex justify-between items-center">
                        <div class="text-center">
                            <p class="text-xs text-gray-600">總項目</p>
                            <p class="text-lg font-bold text-gray-800">{{ shoppingItems.length }}</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-600">已完成</p>
                            <p class="text-lg font-bold" :style="{color: colors.secondary}">{{ completedItems }}</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-600">未完成</p>
                            <p class="text-lg font-bold text-gray-800">{{ shoppingItems.length - completedItems }}</p>
                        </div>
                    </div>
                </div>
                
                <!-- 購物項目 -->
                <h3 class="font-medium text-gray-800 mt-4 mb-2 text-sm">購物項目</h3>
                <div v-for="item in shoppingItems" :key="item.id" class="rounded-lg p-3 mb-2 shadow-sm border border-gray-100" :style="{backgroundColor: colors.light}">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center flex-1">
                            <button @click="toggleItemComplete(item.id)" class="mr-3">
                                <div class="w-5 h-5 rounded-full border flex items-center justify-center" :style="{borderColor: colors.secondary}">
                                    <i v-if="item.completed" class="fas fa-check text-xs" :style="{color: colors.secondary}"></i>
                                </div>
                            </button>
                            <div class="flex-1">
                                <h4 class="font-medium text-gray-800 text-sm" :class="{'line-through text-gray-500': item.completed}">{{ item.name }}</h4>
                                <p class="text-xs text-gray-600">{{ item.category }} • {{ item.store || '未指定商店' }}</p>
                            </div>
                        </div>
                        <div class="text-right ml-2">
                            <p class="font-semibold text-gray-800 text-sm">NT$ {{ item.price || '--' }}</p>
                        </div>
                    </div>
                </div>
                
                <div v-if="shoppingItems.length === 0" class="text-center py-8 text-gray-500">
                    <i class="fas fa-shopping-cart text-3xl mb-3" :style="{color: colors.accent2}"></i>
                    <p class="text-sm">購物清單是空的，點擊 + 按鈕新增</p>
                </div>
            </section>
        </main>

        <!-- 底部導航 - 更貼近手機樣式 -->
        <footer class="fixed bottom-0 w-full max-w-md p-2 border-t border-gray-200 bg-white shadow-[0_-2px_10px_rgba(0,0,0,0.05)]">
            <div class="flex justify-around">
                <button 
                    v-for="tab in tabs" 
                    :key="tab.id"
                    @click="activeTab = tab.id"
                    class="flex flex-col items-center p-2 rounded-lg transition w-16"
                    :class="activeTab === tab.id ? 'text-gray-800' : 'text-gray-500'"
                >
                    <i :class="tab.icon" class="text-lg mb-1" :style="{color: activeTab === tab.id ? colors.secondary : '#9CA3AF'}"></i>
                    <span class="text-xs font-medium">{{ tab.name }}</span>
                </button>
            </div>
        </footer>

        <!-- 新增行程模態框 -->
        <div v-if="showAddItinerary" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
            <div class="bg-white rounded-xl w-full max-w-md p-5 shadow-lg" style="max-height: 90vh; overflow-y: auto;">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-800">新增行程</h3>
                    <button @click="showAddItinerary = false" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="space-y-3">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">行程名稱</label>
                        <input v-model="newItinerary.title" type="text" class="w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-blue-500">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">時間</label>
                        <input v-model="newItinerary.time" type="text" class="w-full p-3 border border-gray-300 rounded-lg text-sm" placeholder="例如: 10:00 AM">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">描述</label>
                        <textarea v-model="newItinerary.description" rows="2" class="w-full p-3 border border-gray-300 rounded-lg text-sm"></textarea>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">類型</label>
                            <select v-model="newItinerary.type" class="w-full p-3 border border-gray-300 rounded-lg text-sm">
                                <option value="景點">景點</option>
                                <option value="餐廳">餐廳</option>
                                <option value="住宿">住宿</option>
                                <option value="交通">交通</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">地點</label>
                            <input v-model="newItinerary.location" type="text" class="w-full p-3 border border-gray-300 rounded-lg text-sm">
                        </div>
                    </div>
                </div>
                
                <div class="flex justify-end space-x-3 mt-6">
                    <button @click="showAddItinerary = false" class="px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 text-sm">
                        取消
                    </button>
                    <button @click="saveItinerary" class="px-4 py-2 rounded-lg text-white font-medium text-sm" :style="{backgroundColor: colors.secondary}">
                        儲存行程
                    </button>
                </div>
            </div>
        </div>

        <!-- 新增支出模態框 -->
        <div v-if="showAddExpense" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
            <div class="bg-white rounded-xl w-full max-w-md p-5 shadow-lg">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-800">新增支出</h3>
                    <button @click="showAddExpense = false" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="space-y-3">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">項目名稱</label>
                        <input v-model="newExpense.title" type="text" class="w-full p-3 border border-gray-300 rounded-lg text-sm">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">金額</label>
                            <input v-model="newExpense.amount" type="number" class="w-full p-3 border border-gray-300 rounded-lg text-sm">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">類別</label>
                            <select v-model="newExpense.category" class="w-full p-3 border border-gray-300 rounded-lg text-sm">
                                <option value="飲食">飲食</option>
                                <option value="住宿">住宿</option>
                                <option value="交通">交通</option>
                                <option value="購物">購物</option>
                                <option value="娛樂">娛樂</option>
                            </select>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">日期</label>
                        <input v-model="newExpense.date" type="date" class="w-full p-3 border border-gray-300 rounded-lg text-sm">
                    </div>
                </div>
                
                <div class="flex justify-end space-x-3 mt-6">
                    <button @click="showAddExpense = false" class="px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 text-sm">
                        取消
                    </button>
                    <button @click="saveExpense" class="px-4 py-2 rounded-lg text-white font-medium text-sm" :style="{backgroundColor: colors.secondary}">
                        儲存支出
                    </button>
                </div>
            </div>
        </div>

        <!-- 新增購物項目模態框 -->
        <div v-if="showAddItem" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
            <div class="bg-white rounded-xl w-full max-w-md p-5 shadow-lg">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-800">新增購物項目</h3>
                    <button @click="showAddItem = false" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="space-y-3">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">項目名稱</label>
                        <input v-model="newItem.name" type="text" class="w-full p-3 border border-gray-300 rounded-lg text-sm">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">類別</label>
                            <select v-model="newItem.category" class="w-full p-3 border border-gray-300 rounded-lg text-sm">
                                <option value="食品">食品</option>
                                <option value="衣物">衣物</option>
                                <option value="紀念品">紀念品</option>
                                <option value="日用品">日用品</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">價格</label>
                            <input v-model="newItem.price" type="number" class="w-full p-3 border border-gray-300 rounded-lg text-sm">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">商店</label>
                        <input v-model="newItem.store" type="text" class="w-full p-3 border border-gray-300 rounded-lg text-sm">
                    </div>
                </div>
                
                <div class="flex justify-end space-x-3 mt-6">
                    <button @click="showAddItem = false" class="px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 text-sm">
                        取消
                    </button>
                    <button @click="saveShoppingItem" class="px-4 py-2 rounded-lg text-white font-medium text-sm" :style="{backgroundColor: colors.secondary}">
                        儲存項目
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;
        
        createApp({
            data() {
                return {
                    colors: {
                        primary: '#EFEFF1',
                        secondary: '#C9CBE0',
                        accent1: '#ECD4D4',
                        accent2: '#CCDBE2',
                        card: '#FFFFFF',
                        light: '#F9F9F9'
                    },
                    currentDate: new Date().toLocaleDateString('zh-TW', { 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric',
                        weekday: 'long'
                    }),
                    tabs: [
                        { id: 'itinerary', name: '行程', icon: 'fas fa-calendar-alt' },
                        { id: 'map', name: '地圖', icon: 'fas fa-map' },
                        { id: 'expense', name: '記錄', icon: 'fas fa-wallet' },
                        { id: 'shopping', name: '購物清單', icon: 'fas fa-shopping-cart' }
                    ],
                    activeTab: 'itinerary',
                    
                    // 行程表數據
                    itinerary: [
                        { id: 1, title: '抵達桃園機場', time: '09:00 AM', description: '搭乘機場捷運前往台北車站', type: '交通', location: '桃園機場' },
                        { id: 2, title: '台北101觀景台', time: '11:00 AM', description: '欣賞台北市全景', type: '景點', location: '台北101' },
                        { id: 3, title: '鼎泰豐午餐', time: '01:00 PM', description: '品嚐著名小籠包', type: '餐廳', location: '信義區' }
                    ],
                    showAddItinerary: false,
                    newItinerary: {
                        title: '',
                        time: '',
                        description: '',
                        type: '景點',
                        location: ''
                    },
                    
                    // 記賬數據
                    expenses: [
                        { id: 1, title: '早餐', amount: 150, category: '飲食', date: this.getTodayDate() },
                        { id: 2, title: '捷運票', amount: 50, category: '交通', date: this.getTodayDate() },
                        { id: 3, title: '101門票', amount: 600, category: '娛樂', date: this.getTodayDate() }
                    ],
                    expenseCategories: [
                        { name: '飲食', amount: 150, color: '#F87171' },
                        { name: '住宿', amount: 0, color: '#60A5FA' },
                        { name: '交通', amount: 50, color: '#34D399' },
                        { name: '購物', amount: 0, color: '#A78BFA' },
                        { name: '娛樂', amount: 600, color: '#FBBF24' }
                    ],
                    showAddExpense: false,
                    newExpense: {
                        title: '',
                        amount: 0,
                        category: '飲食',
                        date: this.getTodayDate()
                    },
                    
                    // 購物清單數據
                    shoppingItems: [
                        { id: 1, name: '鳳梨酥', category: '食品', price: 350, store: '佳德糕餅', completed: true },
                        { id: 2, name: '茶葉', category: '食品', price: 800, store: '天仁茗茶', completed: false },
                        { id: 3, name: '台北101鑰匙圈', category: '紀念品', price: 150, store: '台北101', completed: false }
                    ],
                    showAddItem: false,
                    newItem: {
                        name: '',
                        category: '食品',
                        price: 0,
                        store: ''
                    }
                };
            },
            computed: {
                totalExpenses() {
                    return this.expenses.reduce((sum, expense) => sum + parseInt(expense.amount), 0);
                },
                completedItems() {
                    return this.shoppingItems.filter(item => item.completed).length;
                }
            },
            methods: {
                getTodayDate() {
                    const today = new Date();
                    return today.toISOString().slice(0, 10);
                },
                
                // 行程表方法
                addNewItinerary() {
                    this.showAddItinerary = true;
                    this.newItinerary = {
                        title: '',
                        time: '',
                        description: '',
                        type: '景點',
                        location: ''
                    };
                },
                saveItinerary() {
                    const newId = this.itinerary.length > 0 ? Math.max(...this.itinerary.map(i => i.id)) + 1 : 1;
                    this.itinerary.push({
                        id: newId,
                        ...this.newItinerary
                    });
                    this.showAddItinerary = false;
                },
                removeItinerary(id) {
                    this.itinerary = this.itinerary.filter(item => item.id !== id);
                },
                
                // 記賬方法
                saveExpense() {
                    const newId = this.expenses.length > 0 ? Math.max(...this.expenses.map(e => e.id)) + 1 : 1;
                    this.expenses.push({
                        id: newId,
                        ...this.newExpense
                    });
                    
                    // 更新類別統計
                    this.updateExpenseCategories();
                    this.showAddExpense = false;
                },
                removeExpense(id) {
                    this.expenses = this.expenses.filter(item => item.id !== id);
                    this.updateExpenseCategories();
                },
                updateExpenseCategories() {
                    this.expenseCategories.forEach(category => {
                        category.amount = this.expenses
                            .filter(expense => expense.category === category.name)
                            .reduce((sum, expense) => sum + parseInt(expense.amount), 0);
                    });
                },
                
                // 購物清單方法
                saveShoppingItem() {
                    const newId = this.shoppingItems.length > 0 ? Math.max(...this.shoppingItems.map(i => i.id)) + 1 : 1;
                    this.shoppingItems.push({
                        id: newId,
                        completed: false,
                        ...this.newItem
                    });
                    this.showAddItem = false;
                },
                removeShoppingItem(id) {
                    this.shoppingItems = this.shoppingItems.filter(item => item.id !== id);
                },
                toggleItemComplete(id) {
                    const item = this.shoppingItems.find(item => item.id === id);
                    if (item) {
                        item.completed = !item.completed;
                    }
                }
            },
            mounted() {
                this.updateExpenseCategories();
            }
        }).mount('#app');
    </script>
    
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'],
                    },
                }
            }
        }
    </script>
</body>
</html>